# NETBoggle
NetBoggle is a online multiplayer version of the classic game Boggle, written in C# and using WinForms, as well as several other .NET libraries.

## Compiling
NetBoggle can be built using any version of Visual Studio supporting the .NET framework 4.5. Download/fork the code and open the solution in the NetBoggleClient folder.

The solution is dependant on the Newtonsoft.Json Nuget package.

## Implementation
NetBoggle is build around the concept of a client-server architecture --- where each player (clients) are separate objects managed by a server. In this implementation, each instance of the game window is potentially a client, and the server is provided in *NetBoggle.Networking.dll*. In theory, this allows the client and the server to receive updates independant of each other, and even for other frontends to connect to a NetBoggle server.

The solution is divided into two separate projects: *NetBoggle.Client* and *NetBoggle.Networking*. *NetBoggle.Client* contains the front-end for the game, including the main form, settings, etc. *NetBoggle.Networking* contains the majority of the client-server code, including the server itself, the networking code and the bytecode interpreter.

### Networking
NetBoggle's online play is implemented with the help of the [Redcorona.Net Library](www.codeproject.com/Articles/12286/Simple-Client-server-Interactions-using-C), which manages the underlying connections between devices and greatly simplifies the process.

The actual instructions sent over the internet are generated and interpreted by a bytecode system in *NetBoggle.Networking.Bytecode*. This converts 4 components into a single string, which can be converted into a series of bytes to be sent over the internet. Instructions are generated using `Bytecode.Generate( )`, which takes 4 arguments:

-    An integer for player index. This is unused in the final solution, as sending the networking system was able to tell which client a packet was sent from automatically.
-    An enum that contained op-codes (numbers that represent an instruction for the parser to execute). This is stored as a single byte, which allows for potentially 256 unique instructions, although nowhere close to this many were necessary.
- Two strings as parameters for each instruction.

The generator simply converts each element to a string representation and appends them in a specific order. The two string parameters are separated by a special designated byte between them (hex value *0x03*).

The actual complexity of this system lies in the bytecode parser (`Bytecode.Parse( )`), which interprets generated bytecode strings and executes a corresponding piece of code. In keeping with *Redcorona.Net*'s event-driven nature, the bytecode system offers numerous events that can be bound to by the client or server. This is implemented through a dictionary/hash table that looks up each event when an instruction is interpreted.

### Server
The server is the component of client-server systems that is responsible for controlling the game itself. It runs independantly of the client (that is, it does not care who is running it --- even the host is treated as a normal player) and its state is self contained. This is essential in minimising the potential for cheating, as the server does not care what state clients think they are in, but merely informs them when whatever that state should change.

The gameplay on the server-side uses a Finite State Machine to keep track of game states. Boggle has three potential states: waiting to play, playing the game (writing down words) and tallying the scores. The Boggle states work by returning a new instance of the next state in its `Handle( )` method (called every tick of the server). The states are implemented through the `IBoggleState` interface.

### Client
In NetBoggle, the client is little more than a simple Windows form that sends bytecode instructions to the server and presents the response to the user. It also manages a server, controlling shutdown and startup and ticking, if the client is hosting one.

## License

The MIT License (MIT)<br>
Copyright (c) 2016 Valax321

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

### Third Party Libraries

The above license does not apply to any third-party libraries used by NetBoggle. Refer to their specific licensing for more information.
